<div class="col-lg-12 d-flex">
  <div class="col-lg-4">
    <profile-menu></profile-menu>
  </div>

  <form class="col-lg-8 text-pre-line" [formGroup]="profileForm">
    <!-- Блок информации о пользователе. -->
    <div class="block-user-info pt-20-pb-20 d-flex">
      <div class="col-lg-4">
        <img class="avatar rounded-circle" [src]="isNoPhoto ? avatarNoPhoto : avatarImage">

        <p-fileUpload 
            mode="basic" 
            name="demo[]" 
            accept="image/*" 
            chooseLabel="Загрузить" 
            class="profile-photo" 
            styleClass="p-button-link"
            formControlName="avatar"
            [multiple]="true"
            (onSelect)="onUploadAvatar($event)">
        </p-fileUpload>
      </div>

      <div class="col-lg-8">      
        <div>
            <span class="p-float-label">
                <input 
                    id="float-input" 
                    type="text" 
                    pInputText
                    formControlName="fio"
                    placeholder="ФИО"> 
            </span>
        </div>
      </div>
    </div>

    <!-- Блок с контактами. -->
    <div class="block-contacts d-flex">
        <div class="col-lg-4">
            <p-checkbox 
                formControlName="checkedContact" 
                [binary]="true" 
                inputId="binary">
          </p-checkbox>
            <label for="binary" class="visible-all">Виден всем</label>
        </div>

        <div class="col-lg-4">
            <span class="p-float-label">
                <input 
                    id="float-input" 
                    type="text" 
                    pInputText 
                    formControlName="phoneNumber"
                    placeholder="Номер телефона"> 
                <!-- <label for="float-input">Номер телефона:</label> -->
            </span>
        </div>

        <div class="col-lg-4">
            <span class="p-float-label">
                <input 
                    id="float-input" 
                    type="text" 
                    pInputText
                    formControlName="email"
                    placeholder="Email"> 
                <!-- <label for="float-input">Email:</label> -->
            </span>
        </div>        
    </div>

    <!-- Блок с выпадающих списков. -->
    <div class="pt-20-pb-20 mt-20 block-user-info d-flex block-profile-dropdowns">
      <div class="col-lg-4">
        <div class="profile-title">
          <label>Предмет</label>
        </div>

        <!-- Добавленные предметы. -->
        <div *ngFor="let item of displaySelectedMentorProfileItems">
          {{item.itemName}}
        </div>

          <div>
              <p-dropdown [options]="profileItems$.value"
                          [(ngModel)]="selectedItem"
                          optionLabel="itemName"                          
                          placeholder="Ваш предмет"
                          formControlName="selectedItem">
              </p-dropdown>
          
            <div>
              <p-button 
                  label="Добавить" 
                  styleClass="p-button-link"
                  (click)="addMentorProfileItems()">
              </p-button>
            </div>
          </div>
      </div>

      <div class="col-lg-4">
        <div class="profile-title">
          <label>Цена занятий</label>
        </div>

        <!-- Добавленные цены. -->
        <div *ngFor="let item of displayMentorPrices">
          {{item.price}} {{item.unit}}
        </div>

          <div>
            <input 
                type="text" 
                pInputText 
                placeholder="Напишите цену"
                formControlName="price"
                [(ngModel)]="selectedPrice"> 
          </div>

          <p-button 
                label="Добавить" 
                styleClass="p-button-link"
                (click)="addMentorPrices()">
          </p-button>
      </div>

      <div class="col-lg-4">
        <div class="profile-title">
          <label>Длительность</label>
        </div>

        <!-- Добавленные длительности. -->
        <div *ngFor="let item of displayMentorDurations">
          {{item.time}} {{item.unit}}
        </div>

          <div>
            <p-dropdown [options]="profileItemsDropdown$.value"                       
                      optionLabel="fullTime"
                      placeholder="Длительность урока"
                      [(ngModel)]="selectedDuration"
                      formControlName="selectedDuration">
            </p-dropdown>

            <p-button 
                label="Добавить" 
                styleClass="p-button-link"
                (click)="addMentorDurations()">
          </p-button>
          </div>
      </div>
    </div>

    <!-- Блок целей подготовки. -->
    <div class="pt-20-pb-20 mt-20 block-user-info">
      <div class="profile-title">
        <label>Цель подготовки</label>
      </div>

      <div class="block-purposes">
        <div class="purpose" *ngFor="let item of profilePurposeDropdown$.value">
          <div (click)="onSelectPurposes(item.purposeName)">
            {{item.purposeSysName}}
          </div>
        </div>  
      </div>   
    </div>

    <!-- Блок свободного времени. -->
    <div class="pt-20-pb-20 mt-20 block-user-info d-flex block-profile-dropdowns">
      <div class="col-lg-12 d-flex">
       <div>
        <div class="profile-title">
          <label>Свободные дни</label>
        </div>

        <!-- Свободные дни. -->
        <div class="" *ngFor="let item of displayMentorTimes">
          {{item.day}} с {{item.timeStart}} по {{item.timeEnd}}
        </div>

          <div>
              <p-dropdown [options]="profileDaysWeek$.value"
                          [(ngModel)]="selectedMentorDayWeek"
                          optionLabel="dayName"                          
                          placeholder="День недели"
                          formControlName="dayWeekName">
              </p-dropdown>
          
            <div>
              <p-button 
                  label="Добавить дату и время" 
                  styleClass="p-button-link"
                  (click)="addMentorDayTimes()">
              </p-button>
            </div>
          </div>
       </div>

         <div>
          <div class="profile-title">
            <label>Свободное время</label>
          </div>

          <!-- Свободные дни. -->
        <div class="" *ngFor="let item of displayMentorTimes">
          <div>&nbsp;</div>
        </div>
  
            <div>
              c <input type="time" 
              [(ngModel)]="selectedMentorTimeStart"
              formControlName="mentorTimeStart">

              по <input type="time" 
              [(ngModel)]="selectedMentorTimeEnd"
              formControlName="mentorTimeEnd">
            </div>
         </div>
      </div>    
    </div>

    <!-- Блок о себе. -->
    <div class="pt-20-pb-20 mt-20 block-user-info">
      <div class="profile-title">
        <label>О себе</label>
      </div>
      
      <div>
        <textarea 
            rows="5" 
            cols="100" 
            pInputTextarea 
            [autoResize]="true"
            formControlName="aboutInfo"
            [(ngModel)]="aboutInfo">
      </textarea>
      </div>

      <div>
        <p-button 
            label="Добавить" 
            styleClass="p-button-link"
            (click)="addMentorAboutInfo()">
        </p-button>
      </div>
    </div>

    <!-- Блок с образованием. -->
    <div class="pt-20-pb-20 mt-20 block-user-info">
      <div class="profile-title">
        <label>Образование</label>
      </div>
      
      <div>
        <textarea 
            rows="5" 
            cols="100" 
            pInputTextarea 
            [autoResize]="true"
            formControlName="education"
            [(ngModel)]="education">
      </textarea>
      </div>

      <div>
        <p-button 
            label="Добавить" 
            styleClass="p-button-link"
            (click)="addMentorEducation()">
        </p-button>
      </div>
    </div>

    <!-- Блок с опытом. -->
    <div class="pt-20-pb-20 mt-20 block-user-info">
      <div class="profile-title">
        <label>Опыт</label>
      </div>
      
      <div>
        <textarea 
            rows="5" 
            cols="100" 
            pInputTextarea 
            [autoResize]="true"
            formControlName="experience"
            [(ngModel)]="experience">
      </textarea>
      </div>

      <div>
        <p-button 
            label="Добавить" 
            styleClass="p-button-link"
            (click)="addMentorExperience()">
        </p-button>
      </div>
    </div>

    <!-- Блок с сертификатами. -->
    <div class="pt-20-pb-20 mt-20 block-user-info">
      <div class="profile-title">
        <label>Сертификаты</label>
      </div>
      
      <div>        
        <!-- <p-image src="../../../../../assets/images/profile/nophoto.svg" alt="Image" width="250" [preview]="true"></p-image> -->

        <!-- Список сертификатов. -->
        <div class="block-cert-files">
          <div *ngFor="let item of certsFiles">
            <div class="cert-file">
              <p-image 
                  [src]="item" 
                  alt="Image" 
                  width="170" 
                  [preview]="true">
              </p-image>
            </div>
          </div>
        </div>       

        <p-fileUpload 
            mode="basic" 
            name="demo[]" 
            accept="image/*" 
            chooseLabel="Загрузить" 
            class="profile-photo" 
            styleClass="p-button-link"
            formControlName="certs"
            [multiple]="true"
            (onSelect)="onUploadCerts($event)">
        </p-fileUpload>
      </div>
    </div>

    <button 
        class="btn-save"
        (click)="onSaveProfileUserInfoAsync()">
      Сохранить
    </button>
  </form>
</div>